#!/bin/bash
#
# Copy files to and from my dots repo so I can synchronize them
# 
# I tried lots of dotfile managers and none did the simple thing I wanted.
# This is my attempt at a minimalist manager built on Git.
# I keep my dotfiles and some associated scripts in a dots repo at GitHub.
# I clone the repo locally into a folder named dots.
# I use this script with the "to" argument to copy files from my home to the repo.
# I use the script with the "from" argument to copy files from the repo to my home.

# files to synchronize with the relative path
files=`cat <<END
.bash_logout
.bashrc
.config/kitty
.config/nvim
.fonts
.gitconfig
.gitignore
.inputrc
.profile
.ssh/config
.terminfo
.tmux.conf
.virtual.sh
bin/autossh_work.sh
bin/dots
bin/log
bin/mnencode
bin/mnpassword
bin/stableNeoVim
bin/tmux-paste-to-python
bin/update
bin/yank
END`

repo=~/dots

case $1 in

  to)
    cd ~
    cp -a --parents $files $repo
    ;;

  from)
    cd $repo
    cp -a --parents $files ~
    ;;

  *)
    echo usage: $0 [to|from]
esac
